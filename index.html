<!doctype html>
<html lang-"en" dir="ltr">
<head>

  <meta charset="utf-8" />
  <title>Slideshow</title>

  <style>
    html, body {
      height: 100%;
    }
    body {
      padding: 0;
      margin: 0;
    }
    div {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-repeat: no-repeat;
      background-size: cover;
      background-position: center;
      opacity: 0;
    }
  </style>

</head>
<body>

  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0326.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0327.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0328.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0329.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0330.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0331.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0332.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0333.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0334.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0335.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0336.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0337.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0338.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0339.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0340.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0341.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0342.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0343.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0344.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0345.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0346.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0347.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0348.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0349.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0350.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0351.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0352.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0353.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0354.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0355.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0356.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0357.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0358.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0359.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0360.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0361.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0362.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0363.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0364.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0365.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0366.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0367.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0368.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0369.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0370.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0371.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0372.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0373.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0374.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0375.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0376.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0377.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0378.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0379.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0380.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0381.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0382.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0383.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0384.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0385.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0386.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0387.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0388.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0389.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0390.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0391.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0392.jpg);"></div>
  <div style="background-image: url(http://jimthoburn.com/unique-la/medium/IMG_0393.jpg);"></div>

  <script>

    var framesPerSecond     = 30;
    var framesPerSlide      = framesPerSecond * 3.0; // Seconds
    var framesPerTransition = framesPerSecond * 1.2; // Seconds

    var slides = document.getElementsByTagName("div");
    var cursor = 0;
    var stepCounter = 0;
    var previous;


    // Show the first slide
    slides[cursor].style.opacity = 1;


    // Show the next slide
    function next() {
      previous = slides[cursor];
      previous.style.zIndex = 1;

      cursor++;
      if (cursor >= slides.length) {
        console.log('done');
        cursor = 0;
      }

      slides[cursor].style.opacity = 0;
      slides[cursor].style.zIndex = 10;
    }


    // KUDOS: http://gizma.com/easing
    // t: current time, b: begInnIng value, c: change In value, d: duration
    function linear(t, b, c, d) {
      return c*t/d + b;
    }
    function easeOutQuad(t, b, c, d) {
      t /= d;
      return -c * t*(t-2) + b;
    }
    function easeInOutQuad(t, b, c, d) {
      t /= d/2;
      if (t < 1) return c/2*t*t + b;
      t--;
      return -c/2 * (t*(t-2) - 1) + b;
    }


    // Show the next frame
    function step() {
      stepCounter++;

      if (stepCounter <= framesPerTransition) {
        // Fade in
        if (Number(slides[cursor].style.opacity) < 1) slides[cursor].style.opacity = easeOutQuad(stepCounter, 0, 1, framesPerTransition);
        // Fade out
        if (previous) previous.style.opacity = 1 - easeOutQuad(stepCounter, 0, 1, framesPerTransition);

      } else {
        // If we’re finished, snap to the appropriate values
        slides[cursor].style.opacity = 1;
        if (previous) previous.style.opacity = 0;
      }

      if (stepCounter >= framesPerSlide) {
        next();
        stepCounter = 0;
      }

      console.log('step');
    }


    // For testing…
    var timer;
    function play() {
      if (!timer) timer = setInterval(step, Math.round(1000 / framesPerSecond));
    }
    function pause() {
      if (timer) {
        clearInterval(timer);
        timer = undefined;
      }
    }
    play();

    console.log('ready');

  </script>

</body>
</html>
